<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>

	<meta charset="utf-8" />
	<title>Task 6</title>
	<script src="https://code.jquery.com/jquery-3.6.0.slim.min.js"
		integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin="anonymous"></script>
	<script type="application/javascript">
		$(document).ready(function () {
			createFamilyTree();
			createForm();
		});

		function createForm () {
                    $('table').before([
                        $('<input/>', { type: 'text' }),
                        $('<input/>', { type: 'text' }),
                        $('<select/>').append([
                            $('<option/>', { value: 'before', text: 'before'  }),
                            $('<option/>', { value: 'after', text: 'after' })
                        ]),
                        $('<input/>', {
                            type: 'submit',
                            on: {
                                click: function () {
                                    addNewMember($('input:nth-of-type(1)').val(), $('input:nth-of-type(2)').val(), $("option:selected").val());
                                }
                            }
                        })
                    ]);
                }

		function addNewMember(firstName, lastName, position) {
			if (position == "before") {
				$('tbody').prepend([
					$('<tr/>').append([
						$('<td>', { text: firstName }),
						$('<td>', { text: lastName }),
						$('<td/>', {
							text: '(x)',
							css: { backgroundColor: 'orange' },
							on: {
								click: function () {
									$(this).parents('tr').remove();
								}
							}
						})
					])
				])
			}
			else {
				$('tbody').append([
					$('<tr/>').append([
						$('<td>', { text: firstName }),
						$('<td>', { text: lastName }),
						$('<td/>', {
							text: '(x)',
							css: { backgroundColor: 'orange' },
							on: {
								click: function () {
									$(this).parents('tr').remove();
								}
							}
						})
					])
				])
			}
		}



		function createFamilyTree() {
			$("body").append("<table>");
			$("table").append("<thead>");
			$("thead").append("<tr>");
			$("tr").append("<th>", "<th>");
			$("th").eq(0).text("Firstname");
			$("th").eq(1).text("Lastname");
			$("table").append("<tbody>");
		}


	</script>

</head>

<body>

</body>

</html>
